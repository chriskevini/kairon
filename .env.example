# Kairon Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit the actual .env file to git!

# =============================================================================
# Docker Containers
# =============================================================================
CONTAINER_N8N=n8n-docker-caddy-n8n-1
CONTAINER_DB=postgres-db

# =============================================================================
# Database Configuration
# =============================================================================
# Database host and port (used by scripts/db/test-migration.sh)
DB_HOST=localhost
DB_PORT=5432
DB_USER=n8n_user
DB_NAME=kairon

# =============================================================================
# Backup Configuration
# =============================================================================
# Directory for local database backups (on server)
BACKUP_DIR=/root/kairon-backups

# rclone configuration for off-site backup (Google Drive, S3, etc.)
# Configure in ~/.config/rclone/rclone.conf
RCLONE_REMOTE_NAME=gdrive
RCLONE_REMOTE_PATH=kairon-backups

# Notification settings (ntfy.sh for backup status)
# Create topic at https://ntfy.sh
NTFY_TOPIC=kairon-backups
NTFY_URL=https://ntfy.sh

# Backup retention settings
BACKUP_KEEP_HOURLY=24    # Keep last 24 hourly backups
BACKUP_KEEP_DAILY=7       # Keep last 7 daily backups
BACKUP_KEEP_WEEKLY=4      # Keep last 4 weekly backups

# =============================================================================
# n8n Configuration
# =============================================================================
# API key for n8n REST API (generate in n8n settings)
N8N_API_KEY=your-n8n-api-key-here

# n8n API URL (for production instance)
N8N_API_URL=http://localhost:5678

# n8n Domain (for constructing webhook URLs)
N8N_DOMAIN=your-n8n-domain.com

# Webhook Path (random string for security)
# Generate with: openssl rand -hex 16
WEBHOOK_PATH=your-random-webhook-path-here

# Constructed webhook URL (used by discord_relay.py)
N8N_WEBHOOK_URL=https://your-n8n-domain.com/webhook/your-random-webhook-path-here

# =============================================================================
# Dev Environment (for local testing with ./scripts/deploy.sh dev)
# =============================================================================
# Basic auth credentials for local dev n8n instance
# (Used by docker-compose.dev.yml)
N8N_DEV_USER=admin
N8N_DEV_PASSWORD=admin

# Encryption key for local dev n8n (must be 32 characters)
N8N_DEV_ENCRYPTION_KEY=dev-local-encryption-key-32chars

# API key for dev n8n instance (generate in dev n8n settings)
# Note: Not needed for local development with basic auth
N8N_DEV_API_KEY=your-dev-n8n-api-key-here

# API URL for dev n8n (default: http://localhost:5679)
N8N_DEV_API_URL=http://localhost:5679

# SSH host for tunnel to dev server (if developing on a different machine)
# Leave empty if running directly on the server
# Example: myserver, user@myserver.com, my-ssh-alias
N8N_DEV_SSH_HOST=

# Dev database configuration (if different from prod)
CONTAINER_DB_DEV=postgres-dev
DB_NAME_DEV=kairon_dev
DB_USER_DEV=n8n_user

# =============================================================================
# Discord Bot Configuration (for discord_relay.py)
# =============================================================================
DISCORD_BOT_TOKEN=your-discord-bot-token-here

# Discord IDs
DISCORD_GUILD_ID=your-guild-id
DISCORD_CHANNEL_ARCANE_SHELL=your-arcane-shell-channel-id
DISCORD_CHANNEL_KAIRON_LOGS=your-kairon-logs-channel-id
DISCORD_CHANNEL_OBSIDIAN_BOARD=your-obsidian-board-channel-id

# Discord webhook for monitoring alerts (optional)
DISCORD_KAIRON_LOGS_WEBHOOK=https://discord.com/api/webhooks/your-webhook-id/your-webhook-token

# =============================================================================
# LLM API Keys (for n8n workflows)
# =============================================================================
OPENROUTER_API_KEY=your-openrouter-api-key-here
